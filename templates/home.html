{% extends "base.html" %}
{% load static %}

{% block content %}
<main class="max-w-6xl mx-auto px-4 py-10 space-y-10">

  <!-- Hero -->
  <section class="space-y-4">
    <h1 class="text-3xl md:text-4xl font-bold">
      Heritage Tomato Seed Club
    </h1>
    <p class="text-base md:text-lg max-w-2xl">
      Preserving rare tomato varieties and improving education on heritage seeds.
    </p>

    <div class="flex flex-wrap gap-3">
      <button class="btn btn-primary">Join the Club</button>
      <a href="{% url 'seeds:variety_list' %}" class="btn btn-secondary">
        Browse Seeds
      </a>
      <a href="{% url 'club:about' %}" class="btn btn-accent">
        Learn More
      </a>
    </div>
  </section>

  <!-- Theme colour swatches (keep for design reference or remove later) -->
  <section class="p-6 rounded-box border border-base-300/60 space-y-4">
    <h2 class="font-semibold text-sm uppercase tracking-wide opacity-70">
      Theme palette preview
    </h2>
    <div class="grid gap-3 md:grid-cols-3 lg:grid-cols-6">
      <div class="bg-primary text-primary-content p-3 rounded-box text-sm text-center">PRIMARY</div>
      <div class="bg-secondary text-secondary-content p-3 rounded-box text-sm text-center">SECONDARY</div>
      <div class="bg-accent text-accent-content p-3 rounded-box text-sm text-center">ACCENT</div>
      <div class="bg-info text-info-content p-3 rounded-box text-sm text-center">INFO</div>
      <div class="bg-warning text-warning-content p-3 rounded-box text-sm text-center">WARNING</div>
      <div class="bg-error text-error-content p-3 rounded-box text-sm text-center">ERROR</div>
    </div>
  </section>

  <!-- Featured varieties -->
  {% if featured_varieties %}
    <section class="space-y-4">
      <div class="flex items-center justify-between gap-3 flex-wrap">
        <h2 class="text-2xl md:text-3xl font-bold">
          Featured varieties from the Seed Library
        </h2>
        <a href="{% url 'seeds:variety_list' %}" class="btn btn-sm btn-outline">
          View all varieties
        </a>
      </div>

      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {% for variety in featured_varieties %}
          <article class="card bg-base-100 shadow-md border border-base-300/70">
            <!-- Image / placeholder -->
            <figure class="h-40 md:h-48 overflow-hidden border-b border-base-300/60">
              {% if variety.image %}
                <img
                  src="{{ variety.image.url }}"
                  alt="{{ variety.name }}"
                  class="w-full h-full object-cover"
                >
              {% else %}
                <img
                  src="{% static 'img/placeholder-tomato.jpg' %}"
                  alt="No photo available"
                  class="w-full h-full object-cover opacity-80"
                >
              {% endif %}
            </figure>

            <div class="card-body">
              <h3 class="card-title text-lg">
                <a href="{{ variety.get_absolute_url }}" class="link link-hover">
                  {{ variety.name }}
                </a>
              </h3>

              {% if variety.origin %}
                <p class="text-sm opacity-80">
                  Origin: {{ variety.origin }}
                </p>
              {% endif %}

              <ul class="text-sm space-y-1 mt-2">
                {% if variety.growth_habit %}
                  <li>
                    <span class="font-semibold">Habit:</span>
                    {{ variety.get_growth_habit_display }}
                  </li>
                {% endif %}
                {% if variety.fruit_color %}
                  <li>
                    <span class="font-semibold">Fruit colour:</span>
                    {{ variety.fruit_color }}
                  </li>
                {% endif %}
                {% if variety.days_to_maturity %}
                  <li>
                    <span class="font-semibold">Days to maturity:</span>
                    ~{{ variety.days_to_maturity }} days
                  </li>
                {% endif %}
              </ul>

              {% if variety.description %}
                <p class="mt-3 text-sm">
                  {{ variety.description|truncatechars:140 }}
                </p>
              {% endif %}

              <div class="card-actions justify-end mt-4">
                <a href="{{ variety.get_absolute_url }}" class="btn btn-sm btn-primary">
                  View details
                </a>
              </div>
            </div>
          </article>
        {% endfor %}
      </div>
    </section>
  {% endif %}

  <!-- Why heritage tomatoes -->
  <section class="grid gap-8 md:grid-cols-2 items-start">
    <div class="space-y-4">
      <h2 class="text-2xl md:text-3xl font-bold">
        Why heritage tomatoes?
      </h2>
      <p class="text-base md:text-lg">
        Heritage and heirloom tomatoes often have deeper, more complex
        flavours, beautiful shapes and colours, and stories attached to
        how they were grown and passed down.
      </p>
      <p>
        By growing and sharing them, we keep living genetic diversity alive
        – a small but meaningful act against blandness in both gardens and
        food systems.
      </p>
      <a href="{% url 'club:about' %}" class="link link-primary font-medium">
        Learn more about the club →
      </a>
    </div>

    <div class="space-y-4">
      <div class="alert alert-info">
        <span>New heritage varieties added for the spring sowing calendar.</span>
      </div>
      <!-- You could add a small key dates / CTA card here later -->
    </div>
  </section>

</main>
{% endblock content %}
